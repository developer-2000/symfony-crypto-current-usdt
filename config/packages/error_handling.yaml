# ---------------------------------------------------------------------------
# 9. Error handling and boundaries (policy, implementation in code)
# ---------------------------------------------------------------------------
# Rules documentation. Limit parameters in portfolio_history_api.yaml.
#
# 9.1 Binance (command app:portfolio:snapshot):
#   — Timeout / 5xx / invalid JSON: snapshot not saved, error logged (channel portfolio),
#     App\Exception\BinanceApiException thrown.
#   — Command catches exception, logs, returns Command::FAILURE (cron sees non-zero exit).
#   — Implementation: BinancePriceService, PortfolioSnapshotCommand.
#
# 9.2 API GET /api/portfolio/history:
#   — No data in range: 200 with body [] (not 404).
#   — Invalid params (hours or minutes out of range): 422 with "error" field and message.
#   — Implementation: App\Request\Api\PortfolioHistoryRequest (rules only there),
#     FormRequestValueResolver, RequestValidationExceptionListener.
# ---------------------------------------------------------------------------

parameters: {}
