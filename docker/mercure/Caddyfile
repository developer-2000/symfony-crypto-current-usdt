# Custom Caddyfile: no encode (no gzip) so SSE stream is not buffered
:3000 {
	bind 0.0.0.0
	mercure {
		publisher_jwt {env.MERCURE_PUBLISHER_JWT_KEY} HS256
		subscriber_jwt {env.MERCURE_SUBSCRIBER_JWT_KEY} HS256
		anonymous
		cors_origins http://localhost:8080 http://127.0.0.1:8080
		heartbeat 15s
	}
	respond / 200
	respond /healthz 200
	respond "Not Found" 404
}
